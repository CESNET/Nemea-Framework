<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libtrap: include/libtrap/trap.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libtrap
   &#160;<span id="projectnumber">0.10.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_d10f943620c8cf996cd13f7b110dc16f.html">libtrap</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">trap.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="trap_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * Copyright (C) 2013,2014 CESNET</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * LICENSE TERMS</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * Redistribution and use in source and binary forms, with or without</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * modification, are permitted provided that the following conditions</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * are met:</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * 1. Redistributions of source code must retain the above copyright</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *    notice, this list of conditions and the following disclaimer.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * 2. Redistributions in binary form must reproduce the above copyright</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *    notice, this list of conditions and the following disclaimer in</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *    the documentation and/or other materials provided with the</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> *    distribution.</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * 3. Neither the name of the Company nor the names of its contributors</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> *    may be used to endorse or promote products derived from this</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> *    software without specific prior written permission.</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * ALTERNATIVELY, provided that this notice is retained in full, this</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * product may be distributed under the terms of the GNU General Public</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * License (GPL) version 2 or later, in which case the provisions</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * of the GPL apply INSTEAD OF those given above.</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> * This software is provided ``as is&#39;&#39;, and any express or implied</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> * warranties, including, but not limited to, the implied warranties of</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> * merchantability and fitness for a particular purpose are disclaimed.</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> * In no event shall the company or contributors be liable for any</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> * direct, indirect, incidental, special, exemplary, or consequential</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> * damages (including, but not limited to, procurement of substitute</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> * goods or services; loss of use, data, or profits; or business</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> * interruption) however caused and on any theory of liability, whether</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> * in contract, strict liability, or tort (including negligence or</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> * otherwise) arising in any way out of the use of this software, even</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> * if advised of the possibility of such damage.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#ifndef _TRAP_H_</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#define _TRAP_H_</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &lt;stdarg.h&gt;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="trap__module__info_8h.html">trap_module_info.h</a>&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="jansson_8h.html">jansson.h</a>&quot;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">   59</a></span>&#160;<span class="preprocessor">#define trap_ctx_t void</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="group__commonapi.html#gabc3ef5d4460eee3691cc57d54ad3ee04">trap_version</a>[];</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="group__commonapi.html#ga6daff788a878255094f06d0dec956a7c">trap_git_version</a>[];</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">char</span> *<a class="code" href="group__commonapi.html#gaf7b7bed58a3f3c7900264fd442613526">trap_default_socket_path_format</a>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="group__errorcodes.html#ga6aabff248f6e15e2e53b06cfd1e8349a">   87</a></span>&#160;<span class="preprocessor">#define TRAP_E_OK 0 </span></div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="group__errorcodes.html#gaac3c26d22e1f37413af205a7a70a058c">   88</a></span>&#160;<span class="preprocessor">#define TRAP_E_TIMEOUT 1 </span></div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="group__errorcodes.html#ga375c24128023c61e9e8fc4a395dd56ac">   89</a></span>&#160;<span class="preprocessor">#define TRAP_E_INITIALIZED 10 </span></div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="group__errorcodes.html#ga8481def38edb03ade169c7f2b9b38080">   90</a></span>&#160;<span class="preprocessor">#define TRAP_E_BADPARAMS 11 </span></div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="group__errorcodes.html#ga70ce5da2e8e3e757782469917d2edb5c">   91</a></span>&#160;<span class="preprocessor">#define TRAP_E_BAD_IFC_INDEX 12 </span></div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="group__errorcodes.html#ga37d23208a014682eedb38ee051a95839">   92</a></span>&#160;<span class="preprocessor">#define TRAP_E_BAD_FPARAMS 13 </span></div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="group__errorcodes.html#gaa814c8dadce409fc1fa10c5f70df3a0f">   93</a></span>&#160;<span class="preprocessor">#define TRAP_E_IO_ERROR 14 </span></div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="group__errorcodes.html#gaa00d25205d918e414549f8b110e46c18">   94</a></span>&#160;<span class="preprocessor">#define TRAP_E_TERMINATED 15 </span></div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="group__errorcodes.html#gae0d81b475cb6808af4a63fe27e34ebec">   95</a></span>&#160;<span class="preprocessor">#define TRAP_E_NOT_SELECTED 16 </span></div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="group__errorcodes.html#ga72b3751575ccae7cccb3c3610bd93974">   96</a></span>&#160;<span class="preprocessor">#define TRAP_E_HELP 20 </span></div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="group__errorcodes.html#ga1b18b576a339cd04c39f4a25cefb88a6">   97</a></span>&#160;<span class="preprocessor">#define TRAP_E_FIELDS_MISMATCH 21 </span></div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="group__errorcodes.html#ga5e856388d29981f44820a877010f02cb">   98</a></span>&#160;<span class="preprocessor">#define TRAP_E_FIELDS_SUBSET 22 </span></div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="group__errorcodes.html#gafddd362476ea8d5ecb1f8097c985f3f6">   99</a></span>&#160;<span class="preprocessor">#define TRAP_E_FORMAT_CHANGED 23 </span></div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="group__errorcodes.html#ga289de5fd2150cb4c6d768a8a64deca61">  100</a></span>&#160;<span class="preprocessor">#define TRAP_E_FORMAT_MISMATCH 24 </span></div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="group__errorcodes.html#gaa49e5036605bb9cab9948bc086a26fa3">  101</a></span>&#160;<span class="preprocessor">#define TRAP_E_NOT_INITIALIZED 254 </span></div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="group__errorcodes.html#ga79663abf02abe99caaed1d00477948fd">  102</a></span>&#160;<span class="preprocessor">#define TRAP_E_MEMORY 255 </span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor"></span></div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="group__commonapi.html#ga109da88991df05299ab3e07e49a7923f">  108</a></span>&#160;<span class="preprocessor">#define TRAP_MASK_ALL 0xffffffff</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="group__trap__timeout.html#gafe708bb8b54eb0ae9ce0c4c5c856422c">  122</a></span>&#160;<span class="preprocessor">#define TRAP_NO_WAIT 0</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="group__trap__timeout.html#ga156f1352bbbff4850a36dbb81b0a7d5b">  127</a></span>&#160;<span class="preprocessor">#define TRAP_WAIT -1</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="group__trap__timeout.html#gaca9cc2b565d7f211242da01fd963cc41">  133</a></span>&#160;<span class="preprocessor">#define TRAP_HALFWAIT -2</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="group__trap__timeout.html#ga5a6b1a7cda4408951076eaff4d4cf196">  135</a></span>&#160;<span class="preprocessor">#define TRAP_TIMEOUT_STR(t) (t==TRAP_WAIT?&quot;TRAP_WAIT&quot;:(t==TRAP_NO_WAIT?&quot;TRAP_NO_WAIT&quot;:(t==TRAP_HALFWAIT?&quot;TRAP_HALFWAIT&quot;:&quot;&quot;)))</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="group__trap__timeout.html#gaf0f4e37c635e9cfbd6bba0e0c5d6dfb4">  137</a></span>&#160;<span class="preprocessor">#define TRAP_NO_AUTO_FLUSH (-1l) </span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="preprocessor"></span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="group__trapifcspec.html#gaf8273a2dc10334433a3b44975b7f92cd">  163</a></span>&#160;<span class="preprocessor">#define TRAP_IFC_DELIMITER &#39;,&#39;</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="group__trapifcspec.html#gaae7f619c830ebcece693cc93a949c431">  168</a></span>&#160;<span class="preprocessor">#define TRAP_IFC_PARAM_DELIMITER &#39;:&#39;</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="group__ifctypes.html#gaea41bbf6790057fe3c897a27c62dd0cc">  174</a></span>&#160;<span class="preprocessor">#define TRAP_IFC_TYPE_GENERATOR &#39;g&#39; </span></div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="group__ifctypes.html#ga5a22170d15ca946f6ff6549f7fd12a3b">  175</a></span>&#160;<span class="preprocessor">#define TRAP_IFC_TYPE_BLACKHOLE &#39;b&#39; </span></div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="group__ifctypes.html#gaac77f233f3bbd4a99f05bc2816377562">  176</a></span>&#160;<span class="preprocessor">#define TRAP_IFC_TYPE_TCPIP     &#39;t&#39; </span></div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="group__ifctypes.html#ga91f122067a6b83738d2b3bc976e7bf0d">  177</a></span>&#160;<span class="preprocessor">#define TRAP_IFC_TYPE_UNIX      &#39;u&#39; </span></div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="group__ifctypes.html#gaf96730d78d9d48881642f5b5683fb513">  178</a></span>&#160;<span class="preprocessor">#define TRAP_IFC_TYPE_SERVICE   &#39;s&#39; </span></div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="group__ifctypes.html#ga6d3823643b818be561a49bde77bd34fd">  179</a></span>&#160;<span class="preprocessor">#define TRAP_IFC_TYPE_FILE      &#39;f&#39; </span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">extern char trap_ifc_type_supported[];</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="group__ifctypes.html#gac188fb5e77d8af514d8091c21a9570c8">  185</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="group__ifctypes.html#gac188fb5e77d8af514d8091c21a9570c8">trap_ifc_type</a> {</div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="group__ifctypes.html#ggac188fb5e77d8af514d8091c21a9570c8a95482ca4ea5f849965438493b6c5640c">  186</a></span>&#160;   <a class="code" href="group__ifctypes.html#ggac188fb5e77d8af514d8091c21a9570c8a95482ca4ea5f849965438493b6c5640c">TRAPIFC_INPUT</a> = 1, </div><div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="group__ifctypes.html#ggac188fb5e77d8af514d8091c21a9570c8a3465118a68f82fd201ec4ce516f687aa">  187</a></span>&#160;   <a class="code" href="group__ifctypes.html#ggac188fb5e77d8af514d8091c21a9570c8a3465118a68f82fd201ec4ce516f687aa">TRAPIFC_OUTPUT</a> = 2 </div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;};</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">/* ifctypes */</span><span class="comment">/* trapifcspec */</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="group__commonapi.html#gac99821743a91f2288f5ea8d3ae6b424c">  200</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="group__commonapi.html#gac99821743a91f2288f5ea8d3ae6b424c">trap_ifcctl_request</a> {</div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="group__commonapi.html#ggac99821743a91f2288f5ea8d3ae6b424ca69ebb9c0a47e7aa0c21440a6373e083a">  201</a></span>&#160;   <a class="code" href="group__commonapi.html#ggac99821743a91f2288f5ea8d3ae6b424ca69ebb9c0a47e7aa0c21440a6373e083a">TRAPCTL_AUTOFLUSH_TIMEOUT</a> = 1,  </div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="group__commonapi.html#ggac99821743a91f2288f5ea8d3ae6b424ca0698228277af04dfe4c5565de8263538">  202</a></span>&#160;   <a class="code" href="group__commonapi.html#ggac99821743a91f2288f5ea8d3ae6b424ca0698228277af04dfe4c5565de8263538">TRAPCTL_BUFFERSWITCH</a> = 2,       </div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="group__commonapi.html#ggac99821743a91f2288f5ea8d3ae6b424ca7c42332f519ee4671d7f674198d6a023">  203</a></span>&#160;   <a class="code" href="group__commonapi.html#ggac99821743a91f2288f5ea8d3ae6b424ca7c42332f519ee4671d7f674198d6a023">TRAPCTL_SETTIMEOUT</a> = 3          </div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;};</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="preprocessor">#ifndef TRAP_IFC_MESSAGEQ_SIZE</span></div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="group__commonapi.html#ga28c29cb10db13086eece2f6497363df3">  208</a></span>&#160;<span class="preprocessor">#define TRAP_IFC_MESSAGEQ_SIZE 100000 </span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="structtrap__multi__result.html">  214</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structtrap__multi__result.html">trap_multi_result</a> {</div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="structtrap__multi__result.html#a067c01951ed1c711a65795f695b0b41e">  215</a></span>&#160;   uint16_t <a class="code" href="structtrap__multi__result.html#a067c01951ed1c711a65795f695b0b41e">message_size</a>;   </div><div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="structtrap__multi__result.html#a6befb83ebd5cf113aedf4cf0eefb06ee">  216</a></span>&#160;   <span class="keywordtype">void</span> *<a class="code" href="structtrap__multi__result.html#a6befb83ebd5cf113aedf4cf0eefb06ee">message</a>;           </div><div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="structtrap__multi__result.html#a2c6630a824f0d7ef11e3921882867029">  217</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="structtrap__multi__result.html#a2c6630a824f0d7ef11e3921882867029">result_code</a>;         </div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;} <a class="code" href="group__commonapi.html#ga09574de535c3e73578fa2930b108b38b">trap_multi_result_t</a>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="structtrap__ifc__spec__s.html">  224</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structtrap__ifc__spec__s.html">trap_ifc_spec_s</a> {</div><div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="structtrap__ifc__spec__s.html#a6af4e85e62b9408f48e264516c5a4eae">  225</a></span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="structtrap__ifc__spec__s.html#a6af4e85e62b9408f48e264516c5a4eae">types</a>;</div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="structtrap__ifc__spec__s.html#a67f46fe3c5ea43d1c8894ce9b8f551ab">  226</a></span>&#160;   <span class="keywordtype">char</span> **<a class="code" href="structtrap__ifc__spec__s.html#a67f46fe3c5ea43d1c8894ce9b8f551ab">params</a>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;} <a class="code" href="group__commonapi.html#ga6a9b60e8305f9c9af1c42b0b1dbac21b">trap_ifc_spec_t</a>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="group__trap__mess__fmt.html#gafbdd4209c0e285278d2134a0500164ad">  236</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="group__trap__mess__fmt.html#ggafbdd4209c0e285278d2134a0500164ada3cb9037147bcf0255468111565ecaca0">  238</a></span>&#160;   <a class="code" href="group__trap__mess__fmt.html#ggafbdd4209c0e285278d2134a0500164ada3cb9037147bcf0255468111565ecaca0">TRAP_FMT_UNKNOWN</a> = 0,</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="group__trap__mess__fmt.html#ggafbdd4209c0e285278d2134a0500164ada62494ba4588111acd4873a21f6a73262">  241</a></span>&#160;   <a class="code" href="group__trap__mess__fmt.html#ggafbdd4209c0e285278d2134a0500164ada62494ba4588111acd4873a21f6a73262">TRAP_FMT_RAW</a> = 1,</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="group__trap__mess__fmt.html#ggafbdd4209c0e285278d2134a0500164ada6ac00a120fdc99b1ccef72e4c31310f2">  244</a></span>&#160;   <a class="code" href="group__trap__mess__fmt.html#ggafbdd4209c0e285278d2134a0500164ada6ac00a120fdc99b1ccef72e4c31310f2">TRAP_FMT_UNIREC</a> = 2,</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="group__trap__mess__fmt.html#ggafbdd4209c0e285278d2134a0500164adab683cfedbefc09299295768bfc566aed">  247</a></span>&#160;   <a class="code" href="group__trap__mess__fmt.html#ggafbdd4209c0e285278d2134a0500164adab683cfedbefc09299295768bfc566aed">TRAP_FMT_JSON</a> = 3</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;} <a class="code" href="group__trap__mess__fmt.html#gafbdd4209c0e285278d2134a0500164ad">trap_data_format_t</a>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="group__trap__mess__fmt.html#gad79809a2452f1e8a4db4e635fb0bd89e">  253</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="group__trap__mess__fmt.html#ggad79809a2452f1e8a4db4e635fb0bd89ea83c14af470a24348e2e667016c6c5d41">  255</a></span>&#160;   <a class="code" href="group__trap__mess__fmt.html#ggad79809a2452f1e8a4db4e635fb0bd89ea83c14af470a24348e2e667016c6c5d41">FMT_WAITING</a> = 0,</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="group__trap__mess__fmt.html#ggad79809a2452f1e8a4db4e635fb0bd89ea28ac36336d4d5862d01074677e45ce13">  258</a></span>&#160;   <a class="code" href="group__trap__mess__fmt.html#ggad79809a2452f1e8a4db4e635fb0bd89ea28ac36336d4d5862d01074677e45ce13">FMT_OK</a> = 1,</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="group__trap__mess__fmt.html#ggad79809a2452f1e8a4db4e635fb0bd89ea29dfd7b9fb30ace5fcdc6a719d320de2">  261</a></span>&#160;   <a class="code" href="group__trap__mess__fmt.html#ggad79809a2452f1e8a4db4e635fb0bd89ea29dfd7b9fb30ace5fcdc6a719d320de2">FMT_MISMATCH</a> = 2,</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="group__trap__mess__fmt.html#ggad79809a2452f1e8a4db4e635fb0bd89ea4f7787cd8d6cd8173c1a7a9449b39a5d">  264</a></span>&#160;   <a class="code" href="group__trap__mess__fmt.html#ggad79809a2452f1e8a4db4e635fb0bd89ea4f7787cd8d6cd8173c1a7a9449b39a5d">FMT_CHANGED</a> = 3</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;} <a class="code" href="group__trap__mess__fmt.html#gad79809a2452f1e8a4db4e635fb0bd89e">trap_in_ifc_state_t</a>;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__trap__mess__fmt.html#gaafa4932ad483eceed010a6b84972df02">trap_set_data_fmt</a>(uint32_t out_ifc_idx, uint8_t data_type, ...);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__trap__mess__fmt.html#ga36d50e3cf2e6fdb959e7e5af660947f1">trap_set_required_fmt</a>(uint32_t in_ifc_idx, uint8_t data_type, ...);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__trap__mess__fmt.html#ga11742fda2b73b0152d9c1f9fab0a4200">trap_get_data_fmt</a>(uint8_t ifc_dir, uint32_t ifc_idx, uint8_t *data_type, <span class="keyword">const</span> <span class="keywordtype">char</span> **spec);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__trap__mess__fmt.html#gae876dcd1ae5562bc85c7a10d93909e76">trap_ctx_set_data_fmt</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx, uint32_t out_ifc_idx, uint8_t data_type, ...);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__trap__mess__fmt.html#gae2a28b33476acd05869aebfd99b140fd">trap_ctx_vset_data_fmt</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx, uint32_t out_ifc_idx, uint8_t data_type, va_list ap);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__trap__mess__fmt.html#ga0f4ff32ca8352ec4ebbbaf4c40d2e8b7">trap_ctx_get_in_ifc_state</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx, uint32_t ifc_idx);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__trap__mess__fmt.html#ga016bd84888f31fe8caf652553fb053aa">trap_ctx_set_required_fmt</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx, uint32_t in_ifc_idx, uint8_t data_type, ...);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__trap__mess__fmt.html#gafa497348ff404d5a26d349b63a8888d5">trap_ctx_vset_required_fmt</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx, uint32_t in_ifc_idx, uint8_t data_type, va_list ap);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__trap__mess__fmt.html#gacba5dba90afc66aa5fa36b505c49226f">trap_ctx_get_data_fmt</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx, uint8_t ifc_dir, uint32_t ifc_idx, uint8_t *data_type, <span class="keyword">const</span> <span class="keywordtype">char</span> **spec);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">/* trap_mess_fmt */</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__commonapi.html#ga8cb714bba0bf01ccf7584332936e2113">trap_get_type_and_name_from_string</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *source, <span class="keyword">const</span> <span class="keywordtype">char</span> **name, <span class="keyword">const</span> <span class="keywordtype">char</span> **type, <span class="keywordtype">int</span> *length_name, <span class="keywordtype">int</span> *length_type);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__commonapi.html#ga1a036c53c7629eb220fa582a7a4ae56c">trap_ctx_cmp_data_fmt</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *sender_ifc_data_fmt, <span class="keyword">const</span> <span class="keywordtype">char</span> *receiver_ifc_data_fmt);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="keywordtype">void</span> *<a class="code" href="group__commonapi.html#gaf23b66446f6a9549460c6f9315fa612b">trap_get_global_ctx</a>();</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__commonapi.html#ga0e46ea6655ac72ab1508a092cec5b05e">trap_get_in_ifc_state</a>(uint32_t ifc_idx);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__commonapi.html#gaefbccf1d04407e6d79ab4b8a8307cdf9">trap_parse_params</a>(<span class="keywordtype">int</span> *argc, <span class="keywordtype">char</span> **argv, <a class="code" href="structtrap__ifc__spec__s.html">trap_ifc_spec_t</a> *ifc_spec);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="group__commonapi.html#ga4b31b73a73b203d80cfcb424ccd9edf5">trap_get_param_by_delimiter</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *source, <span class="keywordtype">char</span> **dest, <span class="keyword">const</span> <span class="keywordtype">char</span> delimiter);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__commonapi.html#gab4ba2c95a8817983f23a58aae093f48f">trap_check_buffer_content</a>(<span class="keywordtype">void</span> *buffer, uint32_t buffer_size);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">/* commonapi */</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">/*****************************************************************************/</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">/***************************** Library interface *****************************/</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="group__simpleapi.html#ga605937391a4c6fbe1510bf4381a8a2b4">trap_last_error</a>; </div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__simpleapi.html#ga440c46189a0111c0946583c56e1ff7a9">trap_last_error_msg</a>; </div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__simpleapi.html#ga957443419c0e9961b8efba34f8e79009">trap_free_ifc_spec</a>(<a class="code" href="structtrap__ifc__spec__s.html">trap_ifc_spec_t</a> ifc_spec);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__simpleapi.html#ga7d7849e0fda93ec1502cb55c1b10cc34">trap_init</a>(<a class="code" href="structtrap__module__info__s.html">trap_module_info_t</a> *module_info, <a class="code" href="structtrap__ifc__spec__s.html">trap_ifc_spec_t</a> ifc_spec);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__simpleapi.html#ga4fc7c94bc72b9400ea765187882d532e">trap_terminate</a>();</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__simpleapi.html#ga2694fb89b2da11d529ef69c21f2197ef">trap_finalize</a>();</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__simpleapi.html#gaac8324ccfb8edf2977e3d4782870d4ef">trap_get_data</a>(uint32_t ifc_mask, <span class="keyword">const</span> <span class="keywordtype">void</span> **data, uint16_t *size, <span class="keywordtype">int</span> timeout);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__simpleapi.html#gab889fdf90a8a4103bfa072c64d2aed1e">trap_send_data</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ifcidx, <span class="keyword">const</span> <span class="keywordtype">void</span> *data, uint16_t size, <span class="keywordtype">int</span> timeout);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__simpleapi.html#gac8149d036a3b839adaeb876ccc9fcda5">trap_recv</a>(uint32_t ifcidx, <span class="keyword">const</span> <span class="keywordtype">void</span> **data, uint16_t *size);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__simpleapi.html#ga165b017fa4b66422275c4e502ac95d2a">trap_send</a>(uint32_t ifcidx, <span class="keyword">const</span> <span class="keywordtype">void</span> *data, uint16_t size);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__simpleapi.html#ga896b102140653a204da81782981e04f6">trap_set_verbose_level</a>(<span class="keywordtype">int</span> level);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__simpleapi.html#gaf7d9a764eeb924fe2dedaed0b79b2cec">trap_get_verbose_level</a>();</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__simpleapi.html#ga780616f8da6339da2c3f11441a6e0f91">trap_set_help_section</a>(<span class="keywordtype">int</span> level);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__simpleapi.html#gaaec5413b3ef25596138f12ae65e58097">trap_print_help</a>(<span class="keyword">const</span> <a class="code" href="structtrap__module__info__s.html">trap_module_info_t</a> *module_info);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__simpleapi.html#ga594bc6f6e105611a06b5e1235796e758">trap_print_ifc_spec_help</a>();</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__simpleapi.html#ga63de9d9334839f0fe2871ab5a987be32">trap_ifcctl</a>(int8_t type, uint32_t ifcidx, int32_t request, ... <span class="comment">/* arg */</span>);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__simpleapi.html#ga52ebce274203e2f54abc1ef487090618">trap_send_flush</a>(uint32_t ifc);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">/* basic API */</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">/********** Macros generating pieces of common code **********/</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *<a class="code" href="group__contextapi.html#ga0401aae8bc25cfd01b1124baf7bd863a">trap_ctx_init</a>(<a class="code" href="structtrap__module__info__s.html">trap_module_info_t</a> *module_info, <a class="code" href="structtrap__ifc__spec__s.html">trap_ifc_spec_t</a> ifc_spec);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *<a class="code" href="group__contextapi.html#ga532c9bae8464121669c3e59db4a8e9a2">trap_ctx_init2</a>(<a class="code" href="structtrap__module__info__s.html">trap_module_info_t</a> *module_info, <a class="code" href="structtrap__ifc__spec__s.html">trap_ifc_spec_t</a> ifc_spec, <span class="keyword">const</span> <span class="keywordtype">char</span> *service_ifcname);</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *<a class="code" href="group__contextapi.html#gab70b72994501aae7d9eb16a3547de88c">trap_ctx_init3</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> <span class="keywordtype">char</span> *description, int8_t i_ifcs, int8_t o_ifcs, <span class="keyword">const</span> <span class="keywordtype">char</span> *ifc_spec, <span class="keyword">const</span> <span class="keywordtype">char</span> *service_ifcname);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__contextapi.html#ga5b84d682c3c68fe814896f7f002b319b">trap_ctx_finalize</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> **ctx);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__contextapi.html#ga8fb998ec081c6f0ad96a669d95efcfe7">trap_ctx_terminate</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__contextapi.html#ga000e7c5b259aad735f066f2e5e8529bb">trap_ctx_recv</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx, uint32_t ifc, <span class="keyword">const</span> <span class="keywordtype">void</span> **data, uint16_t *size);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__contextapi.html#gad124806d3f71ac0f63df28f44f68bb47">trap_ctx_multi_recv</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx, uint32_t ifc_mask, <span class="keyword">const</span> <span class="keywordtype">void</span> **data, uint16_t *size);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__contextapi.html#ga9201daf1d4b3123b1caeab26e50c3a61">trap_ctx_send</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ifc, <span class="keyword">const</span> <span class="keywordtype">void</span> *data, uint16_t size);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__contextapi.html#ga91d29b40d546e03bd132854c7ae2bf9c">trap_ctx_set_verbose_level</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx, <span class="keywordtype">int</span> level);</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__contextapi.html#gae0d72b263e714adcf85b5b15dad98dad">trap_ctx_get_verbose_level</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__contextapi.html#ga5ef43a88e58beb25cfbceed7643e5fba">trap_ctx_ifcctl</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx, int8_t type, uint32_t ifcidx, int32_t request, ... <span class="comment">/* arg */</span>);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__contextapi.html#ga5d734e6839140420db59190197d7cac8">trap_ctx_vifcctl</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx, int8_t type, uint32_t ifcidx, int32_t request, va_list ap);</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__contextapi.html#ga2902ffa62edfbfae946d232ff446b1f4">trap_ctx_get_last_error</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__contextapi.html#ga25b49cda5c1b29a15000690789826743">trap_ctx_get_last_error_msg</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__contextapi.html#ga94141c10e9f43926c03fe1404650b768">trap_ctx_send_flush</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx, uint32_t ifc);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__contextapi.html#gacf18085a199ed89010eaf8afb375f2db">trap_ctx_get_client_count</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx, uint32_t ifcidx);</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__contextapi.html#ga19b26aef67596239ccc72a6f0f1d05fd">trap_ctx_create_ifc_dump</a>(<a class="code" href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a> *ctx, <span class="keyword">const</span> <span class="keywordtype">char</span> *path);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">/* contextapi */</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno"><a class="line" href="group__modulemacros.html#ga6d563233a9fb8ed10a181d1e4c87c271">  887</a></span>&#160;<span class="preprocessor">#define TRAP_DEFAULT_SIGNAL_HANDLER(stop_cmd) \</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="preprocessor">   void trap_default_signal_handler(int signal)\</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="preprocessor">   {\</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="preprocessor">      if (signal == SIGTERM || signal == SIGINT) { \</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="preprocessor">         stop_cmd;\</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="preprocessor">         trap_terminate();\</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="preprocessor">      }\</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="preprocessor">   }</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="preprocessor">#ifdef HAVE_SIGACTION</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="preprocessor">#define TRAP_REGISTER_DEFAULT_SIGNAL_HANDLER() \</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="preprocessor">   do {\</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="preprocessor">      if (trap_get_verbose_level() &gt;= 1)\</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="preprocessor">         printf(&quot;Setting signal handler for SIGINT and SIGTERM using &#39;sigaction&#39; function.\n&quot;);\</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="preprocessor">      struct sigaction act;\</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="preprocessor">      </span><span class="comment">/* Set default signal handler function*/</span><span class="preprocessor">\</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="preprocessor">      act.sa_handler = trap_default_signal_handler;\</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="preprocessor">      act.sa_flags = 0;\</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="preprocessor">      </span><span class="comment">/* Prevent interruption of signal handler by another SIGTERM or SIGINT */</span><span class="preprocessor">\</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="preprocessor">      sigemptyset(&amp;act.sa_mask);\</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="preprocessor">      sigaddset(&amp;act.sa_mask, SIGTERM);\</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="preprocessor">      sigaddset(&amp;act.sa_mask, SIGINT);\</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="preprocessor">      </span><span class="comment">/* Register signal hander */</span><span class="preprocessor">\</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="preprocessor">      sigaction(SIGTERM, &amp;act, NULL);\</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="preprocessor">      sigaction(SIGINT, &amp;act, NULL);\</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="preprocessor">   } while(0)</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00919"></a><span class="lineno"><a class="line" href="group__modulemacros.html#gac8220e39691301a291b09aa9fd7616c0">  919</a></span>&#160;<span class="preprocessor">#define TRAP_REGISTER_DEFAULT_SIGNAL_HANDLER() \</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="preprocessor">   do {\</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="preprocessor">      if (trap_get_verbose_level() &gt;= 1)\</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="preprocessor">         printf(&quot;Setting signal handler for SIGINT and SIGTERM using &#39;signal&#39; function.\n&quot;);\</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="preprocessor">      signal(SIGTERM, trap_default_signal_handler);\</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="preprocessor">      signal(SIGINT, trap_default_signal_handler);\</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="preprocessor">   } while(0)</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00940"></a><span class="lineno"><a class="line" href="group__modulemacros.html#ga80b87dc3b3964a1ac0ef4a74e8ec5166">  940</a></span>&#160;<span class="preprocessor">#define TRAP_DEFAULT_INITIALIZATION(argc, argv, module_info) \</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="preprocessor">   {\</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="preprocessor">      trap_ifc_spec_t ifc_spec;\</span></div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="preprocessor">      int ret = trap_parse_params(&amp;argc, argv, &amp;ifc_spec);\</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="preprocessor">      if (ret != TRAP_E_OK) {\</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="preprocessor">         if (ret == TRAP_E_HELP) {\</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="preprocessor">            trap_print_help(&amp;module_info);\</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="preprocessor">            FREE_MODULE_INFO_STRUCT(MODULE_BASIC_INFO, MODULE_PARAMS) \</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="preprocessor">            return 0;\</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="preprocessor">         }\</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="preprocessor">         trap_free_ifc_spec(ifc_spec);\</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="preprocessor">         fprintf(stderr, &quot;ERROR in parsing of parameters for TRAP: %s\n&quot;, trap_last_error_msg);\</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="preprocessor">         FREE_MODULE_INFO_STRUCT(MODULE_BASIC_INFO, MODULE_PARAMS) \</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="preprocessor">         return 1;\</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="preprocessor">      }\</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="preprocessor">      ret = trap_init(&amp;module_info, ifc_spec);\</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="preprocessor">      if (ret != TRAP_E_OK) {\</span></div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="preprocessor">         trap_free_ifc_spec(ifc_spec);\</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="preprocessor">         fprintf(stderr, &quot;ERROR in TRAP initialization: %s\n&quot;, trap_last_error_msg);\</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="preprocessor">         FREE_MODULE_INFO_STRUCT(MODULE_BASIC_INFO, MODULE_PARAMS) \</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="preprocessor">         return 1;\</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="preprocessor">      }\</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="preprocessor">      trap_free_ifc_spec(ifc_spec);\</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="preprocessor">   }</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno"><a class="line" href="group__modulemacros.html#gaef424ddcb73a7b41ee068ac848c78a0c">  969</a></span>&#160;<span class="preprocessor">#define TRAP_DEFAULT_FINALIZATION() \</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="preprocessor">   trap_finalize();</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div><div class="line"><a name="l00979"></a><span class="lineno"><a class="line" href="group__modulemacros.html#gaab8ea8009824ab14c1726b53a41d6218">  979</a></span>&#160;<span class="preprocessor">#define TRAP_DEFAULT_GET_DATA_ERROR_HANDLING(ret_code, timeout_cmd, error_cmd) \</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="preprocessor">   if ((ret_code) != TRAP_E_OK) {\</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="preprocessor">      if ((ret_code) == TRAP_E_TIMEOUT) {\</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="preprocessor">         timeout_cmd;\</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="preprocessor">      } else if ((ret_code) == TRAP_E_TERMINATED) {\</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="preprocessor">         error_cmd;\</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="preprocessor">      } else if (ret_code == TRAP_E_FORMAT_CHANGED) { \</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="preprocessor">         </span><span class="comment">/* Nothing to do here, TRAP_E_FORMAT_CHANGED has to be skipped by this macro */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="preprocessor">         </span><span class="comment">/* (module can perform some special operations with templates after trap_get_data() signals format change) */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="preprocessor">      } else if (ret_code == TRAP_E_FORMAT_MISMATCH) { \</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="preprocessor">         fprintf(stderr, &quot;trap_get_data() error: output and input interfaces data formats or data specifiers mismatch.\n&quot;); \</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="preprocessor">         error_cmd; \</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="preprocessor">      } else {\</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="preprocessor">         fprintf(stderr, &quot;Error: trap_get_data() returned %i (%s)\n&quot;, (ret_code), trap_last_error_msg);\</span></div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="preprocessor">         error_cmd;\</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="preprocessor">      }\</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="preprocessor">   }</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div><div class="line"><a name="l01003"></a><span class="lineno"><a class="line" href="group__modulemacros.html#ga4c19d4d81540f75735f4e8500ef3c99d"> 1003</a></span>&#160;<span class="preprocessor">#define TRAP_DEFAULT_RECV_ERROR_HANDLING(ret_code, timeout_cmd, error_cmd) \</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="preprocessor">   if ((ret_code) != TRAP_E_OK) {\</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="preprocessor">      if ((ret_code) == TRAP_E_TIMEOUT) {\</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="preprocessor">         timeout_cmd;\</span></div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="preprocessor">      } else if ((ret_code) == TRAP_E_TERMINATED) {\</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="preprocessor">         error_cmd;\</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="preprocessor">      } else if (ret_code == TRAP_E_FORMAT_CHANGED) { \</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="preprocessor">         </span><span class="comment">/* Nothing to do here, TRAP_E_FORMAT_CHANGED has to be skipped by this macro */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="preprocessor">         </span><span class="comment">/* (module can perform some special operations with templates after trap_recv() signals format change) */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="preprocessor">      } else if (ret_code == TRAP_E_FORMAT_MISMATCH) { \</span></div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="preprocessor">         fprintf(stderr, &quot;trap_recv() error: output and input interfaces data formats or data specifiers mismatch.\n&quot;); \</span></div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="preprocessor">         error_cmd; \</span></div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="preprocessor">      } else {\</span></div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="preprocessor">         fprintf(stderr, &quot;Error: trap_recv() returned %i (%s)\n&quot;, (ret_code), trap_last_error_msg);\</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="preprocessor">         error_cmd;\</span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="preprocessor">      }\</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="preprocessor">   }</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div><div class="line"><a name="l01030"></a><span class="lineno"><a class="line" href="group__modulemacros.html#ga91dbb76490c38e828bdf660ac3c9ca41"> 1030</a></span>&#160;<span class="preprocessor">#define TRAP_DEFAULT_SEND_DATA_ERROR_HANDLING(ret_code, timeout_cmd, error_cmd) \</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="preprocessor">   if ((ret_code) != TRAP_E_OK) {\</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="preprocessor">      if ((ret_code) == TRAP_E_TIMEOUT) {\</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="preprocessor">         timeout_cmd;\</span></div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="preprocessor">      } else if ((ret_code) == TRAP_E_TERMINATED) {\</span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="preprocessor">         error_cmd;\</span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="preprocessor">      } else {\</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="preprocessor">         fprintf(stderr, &quot;Error: trap_send_data() returned %i (%s)\n&quot;, (ret_code), trap_last_error_msg);\</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="preprocessor">         error_cmd;\</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="preprocessor">      }\</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="preprocessor">   }</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div><div class="line"><a name="l01049"></a><span class="lineno"><a class="line" href="group__modulemacros.html#ga7dd83735a6770e54573bf0e5e3ad474c"> 1049</a></span>&#160;<span class="preprocessor">#define TRAP_DEFAULT_SEND_ERROR_HANDLING(ret_code, timeout_cmd, error_cmd) \</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="preprocessor">   if ((ret_code) != TRAP_E_OK) {\</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="preprocessor">      if ((ret_code) == TRAP_E_TIMEOUT) {\</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="preprocessor">         timeout_cmd;\</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="preprocessor">      } else if ((ret_code) == TRAP_E_TERMINATED) {\</span></div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="preprocessor">         error_cmd;\</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="preprocessor">      } else {\</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="preprocessor">         fprintf(stderr, &quot;Error: trap_send() returned %i (%s)\n&quot;, (ret_code), trap_last_error_msg);\</span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="preprocessor">         error_cmd;\</span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="preprocessor">      }\</span></div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="preprocessor">   }</span></div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="comment">/* modulemacros */</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="keywordtype">int</span> <a class="code" href="trap_8h.html#abbc0ad5925fb7cc3573f046cca6a186e">output_ifc_negotiation</a>(<span class="keywordtype">void</span> *ifc_priv_data, <span class="keywordtype">char</span> ifc_type, <span class="keywordtype">int</span> sock_d);</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="keywordtype">int</span> <a class="code" href="trap_8h.html#a2c722200cdfbd15e5ab203e88e44bc33">input_ifc_negotiation</a>(<span class="keywordtype">void</span> *ifc_priv_data, <span class="keywordtype">char</span> ifc_type);</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;} <span class="comment">// extern &quot;C&quot;</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="group__contextapi_html_ga91d29b40d546e03bd132854c7ae2bf9c"><div class="ttname"><a href="group__contextapi.html#ga91d29b40d546e03bd132854c7ae2bf9c">trap_ctx_set_verbose_level</a></div><div class="ttdeci">void trap_ctx_set_verbose_level(trap_ctx_t *ctx, int level)</div><div class="ttdoc">Set verbosity level of library functions. </div></div>
<div class="ttc" id="group__commonapi_html_ga09574de535c3e73578fa2930b108b38b"><div class="ttname"><a href="group__commonapi.html#ga09574de535c3e73578fa2930b108b38b">trap_multi_result_t</a></div><div class="ttdeci">struct trap_multi_result trap_multi_result_t</div></div>
<div class="ttc" id="group__commonapi_html_ga1a036c53c7629eb220fa582a7a4ae56c"><div class="ttname"><a href="group__commonapi.html#ga1a036c53c7629eb220fa582a7a4ae56c">trap_ctx_cmp_data_fmt</a></div><div class="ttdeci">int trap_ctx_cmp_data_fmt(const char *sender_ifc_data_fmt, const char *receiver_ifc_data_fmt)</div></div>
<div class="ttc" id="group__commonapi_html_ggac99821743a91f2288f5ea8d3ae6b424ca7c42332f519ee4671d7f674198d6a023"><div class="ttname"><a href="group__commonapi.html#ggac99821743a91f2288f5ea8d3ae6b424ca7c42332f519ee4671d7f674198d6a023">TRAPCTL_SETTIMEOUT</a></div><div class="ttdoc">Set interface timeout (int32_t): in microseconds for non-blocking mode; timeout can be also: TRAP_WAI...</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00203">trap.h:203</a></div></div>
<div class="ttc" id="group__contextapi_html_ga19b26aef67596239ccc72a6f0f1d05fd"><div class="ttname"><a href="group__contextapi.html#ga19b26aef67596239ccc72a6f0f1d05fd">trap_ctx_create_ifc_dump</a></div><div class="ttdeci">void trap_ctx_create_ifc_dump(trap_ctx_t *ctx, const char *path)</div><div class="ttdoc">Create dump files. </div></div>
<div class="ttc" id="group__trap__mess__fmt_html_ga0f4ff32ca8352ec4ebbbaf4c40d2e8b7"><div class="ttname"><a href="group__trap__mess__fmt.html#ga0f4ff32ca8352ec4ebbbaf4c40d2e8b7">trap_ctx_get_in_ifc_state</a></div><div class="ttdeci">int trap_ctx_get_in_ifc_state(trap_ctx_t *ctx, uint32_t ifc_idx)</div></div>
<div class="ttc" id="group__trap__mess__fmt_html_ga016bd84888f31fe8caf652553fb053aa"><div class="ttname"><a href="group__trap__mess__fmt.html#ga016bd84888f31fe8caf652553fb053aa">trap_ctx_set_required_fmt</a></div><div class="ttdeci">int trap_ctx_set_required_fmt(trap_ctx_t *ctx, uint32_t in_ifc_idx, uint8_t data_type,...)</div></div>
<div class="ttc" id="group__commonapi_html_ga4b31b73a73b203d80cfcb424ccd9edf5"><div class="ttname"><a href="group__commonapi.html#ga4b31b73a73b203d80cfcb424ccd9edf5">trap_get_param_by_delimiter</a></div><div class="ttdeci">char * trap_get_param_by_delimiter(const char *source, char **dest, const char delimiter)</div><div class="ttdoc">Splitter of params string. Cut the first param, copy it into dest and returns pointer to the start of...</div></div>
<div class="ttc" id="group__trap__mess__fmt_html_ggafbdd4209c0e285278d2134a0500164ada3cb9037147bcf0255468111565ecaca0"><div class="ttname"><a href="group__trap__mess__fmt.html#ggafbdd4209c0e285278d2134a0500164ada3cb9037147bcf0255468111565ecaca0">TRAP_FMT_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00238">trap.h:238</a></div></div>
<div class="ttc" id="group__trap__mess__fmt_html_ggafbdd4209c0e285278d2134a0500164adab683cfedbefc09299295768bfc566aed"><div class="ttname"><a href="group__trap__mess__fmt.html#ggafbdd4209c0e285278d2134a0500164adab683cfedbefc09299295768bfc566aed">TRAP_FMT_JSON</a></div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00247">trap.h:247</a></div></div>
<div class="ttc" id="group__contextapi_html_ga0401aae8bc25cfd01b1124baf7bd863a"><div class="ttname"><a href="group__contextapi.html#ga0401aae8bc25cfd01b1124baf7bd863a">trap_ctx_init</a></div><div class="ttdeci">trap_ctx_t * trap_ctx_init(trap_module_info_t *module_info, trap_ifc_spec_t ifc_spec)</div><div class="ttdoc">Initialize and return the context of libtrap. </div></div>
<div class="ttc" id="group__trap__mess__fmt_html_ggafbdd4209c0e285278d2134a0500164ada6ac00a120fdc99b1ccef72e4c31310f2"><div class="ttname"><a href="group__trap__mess__fmt.html#ggafbdd4209c0e285278d2134a0500164ada6ac00a120fdc99b1ccef72e4c31310f2">TRAP_FMT_UNIREC</a></div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00244">trap.h:244</a></div></div>
<div class="ttc" id="trap_8h_html_a008a51aeb2d1f379beb493108407ce97"><div class="ttname"><a href="trap_8h.html#a008a51aeb2d1f379beb493108407ce97">trap_ctx_t</a></div><div class="ttdeci">#define trap_ctx_t</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00059">trap.h:59</a></div></div>
<div class="ttc" id="group__trap__mess__fmt_html_ga11742fda2b73b0152d9c1f9fab0a4200"><div class="ttname"><a href="group__trap__mess__fmt.html#ga11742fda2b73b0152d9c1f9fab0a4200">trap_get_data_fmt</a></div><div class="ttdeci">int trap_get_data_fmt(uint8_t ifc_dir, uint32_t ifc_idx, uint8_t *data_type, const char **spec)</div></div>
<div class="ttc" id="group__commonapi_html_gaf23b66446f6a9549460c6f9315fa612b"><div class="ttname"><a href="group__commonapi.html#gaf23b66446f6a9549460c6f9315fa612b">trap_get_global_ctx</a></div><div class="ttdeci">void * trap_get_global_ctx()</div></div>
<div class="ttc" id="group__commonapi_html_gabc3ef5d4460eee3691cc57d54ad3ee04"><div class="ttname"><a href="group__commonapi.html#gabc3ef5d4460eee3691cc57d54ad3ee04">trap_version</a></div><div class="ttdeci">const char trap_version[]</div></div>
<div class="ttc" id="group__simpleapi_html_ga605937391a4c6fbe1510bf4381a8a2b4"><div class="ttname"><a href="group__simpleapi.html#ga605937391a4c6fbe1510bf4381a8a2b4">trap_last_error</a></div><div class="ttdeci">int trap_last_error</div><div class="ttdoc">Code of last error (one of the codes above) </div></div>
<div class="ttc" id="group__contextapi_html_gad124806d3f71ac0f63df28f44f68bb47"><div class="ttname"><a href="group__contextapi.html#gad124806d3f71ac0f63df28f44f68bb47">trap_ctx_multi_recv</a></div><div class="ttdeci">int trap_ctx_multi_recv(trap_ctx_t *ctx, uint32_t ifc_mask, const void **data, uint16_t *size)</div><div class="ttdoc">Read data from input interfaces according to ifc_mask. </div></div>
<div class="ttc" id="group__commonapi_html_gaf7b7bed58a3f3c7900264fd442613526"><div class="ttname"><a href="group__commonapi.html#gaf7b7bed58a3f3c7900264fd442613526">trap_default_socket_path_format</a></div><div class="ttdeci">char * trap_default_socket_path_format</div></div>
<div class="ttc" id="group__simpleapi_html_ga440c46189a0111c0946583c56e1ff7a9"><div class="ttname"><a href="group__simpleapi.html#ga440c46189a0111c0946583c56e1ff7a9">trap_last_error_msg</a></div><div class="ttdeci">const char * trap_last_error_msg</div><div class="ttdoc">Human-readable message about last error. </div></div>
<div class="ttc" id="group__ifctypes_html_gac188fb5e77d8af514d8091c21a9570c8"><div class="ttname"><a href="group__ifctypes.html#gac188fb5e77d8af514d8091c21a9570c8">trap_ifc_type</a></div><div class="ttdeci">trap_ifc_type</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00185">trap.h:185</a></div></div>
<div class="ttc" id="group__commonapi_html_ggac99821743a91f2288f5ea8d3ae6b424ca69ebb9c0a47e7aa0c21440a6373e083a"><div class="ttname"><a href="group__commonapi.html#ggac99821743a91f2288f5ea8d3ae6b424ca69ebb9c0a47e7aa0c21440a6373e083a">TRAPCTL_AUTOFLUSH_TIMEOUT</a></div><div class="ttdoc">Set timeout of automatic buffer flushing for interface, expects uint64_t argument with number of micr...</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00201">trap.h:201</a></div></div>
<div class="ttc" id="group__commonapi_html_ga6a9b60e8305f9c9af1c42b0b1dbac21b"><div class="ttname"><a href="group__commonapi.html#ga6a9b60e8305f9c9af1c42b0b1dbac21b">trap_ifc_spec_t</a></div><div class="ttdeci">struct trap_ifc_spec_s trap_ifc_spec_t</div></div>
<div class="ttc" id="group__contextapi_html_ga5d734e6839140420db59190197d7cac8"><div class="ttname"><a href="group__contextapi.html#ga5d734e6839140420db59190197d7cac8">trap_ctx_vifcctl</a></div><div class="ttdeci">int trap_ctx_vifcctl(trap_ctx_t *ctx, int8_t type, uint32_t ifcidx, int32_t request, va_list ap)</div><div class="ttdoc">Control TRAP interface. </div></div>
<div class="ttc" id="group__contextapi_html_ga9201daf1d4b3123b1caeab26e50c3a61"><div class="ttname"><a href="group__contextapi.html#ga9201daf1d4b3123b1caeab26e50c3a61">trap_ctx_send</a></div><div class="ttdeci">int trap_ctx_send(trap_ctx_t *ctx, unsigned int ifc, const void *data, uint16_t size)</div><div class="ttdoc">Send data via output interface. </div></div>
<div class="ttc" id="group__contextapi_html_ga532c9bae8464121669c3e59db4a8e9a2"><div class="ttname"><a href="group__contextapi.html#ga532c9bae8464121669c3e59db4a8e9a2">trap_ctx_init2</a></div><div class="ttdeci">trap_ctx_t * trap_ctx_init2(trap_module_info_t *module_info, trap_ifc_spec_t ifc_spec, const char *service_ifcname)</div><div class="ttdoc">Initialize and return the context of libtrap. </div></div>
<div class="ttc" id="group__simpleapi_html_ga780616f8da6339da2c3f11441a6e0f91"><div class="ttname"><a href="group__simpleapi.html#ga780616f8da6339da2c3f11441a6e0f91">trap_set_help_section</a></div><div class="ttdeci">void trap_set_help_section(int level)</div></div>
<div class="ttc" id="group__commonapi_html_ga0e46ea6655ac72ab1508a092cec5b05e"><div class="ttname"><a href="group__commonapi.html#ga0e46ea6655ac72ab1508a092cec5b05e">trap_get_in_ifc_state</a></div><div class="ttdeci">int trap_get_in_ifc_state(uint32_t ifc_idx)</div></div>
<div class="ttc" id="structtrap__module__info__s_html"><div class="ttname"><a href="structtrap__module__info__s.html">trap_module_info_s</a></div><div class="ttdef"><b>Definition:</b> <a href="trap__module__info_8h_source.html#l00150">trap_module_info.h:150</a></div></div>
<div class="ttc" id="group__trap__mess__fmt_html_ggafbdd4209c0e285278d2134a0500164ada62494ba4588111acd4873a21f6a73262"><div class="ttname"><a href="group__trap__mess__fmt.html#ggafbdd4209c0e285278d2134a0500164ada62494ba4588111acd4873a21f6a73262">TRAP_FMT_RAW</a></div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00241">trap.h:241</a></div></div>
<div class="ttc" id="group__contextapi_html_gacf18085a199ed89010eaf8afb375f2db"><div class="ttname"><a href="group__contextapi.html#gacf18085a199ed89010eaf8afb375f2db">trap_ctx_get_client_count</a></div><div class="ttdeci">int trap_ctx_get_client_count(trap_ctx_t *ctx, uint32_t ifcidx)</div><div class="ttdoc">Get number of connected clients. </div></div>
<div class="ttc" id="group__simpleapi_html_ga7d7849e0fda93ec1502cb55c1b10cc34"><div class="ttname"><a href="group__simpleapi.html#ga7d7849e0fda93ec1502cb55c1b10cc34">trap_init</a></div><div class="ttdeci">int trap_init(trap_module_info_t *module_info, trap_ifc_spec_t ifc_spec)</div></div>
<div class="ttc" id="group__trap__mess__fmt_html_gae2a28b33476acd05869aebfd99b140fd"><div class="ttname"><a href="group__trap__mess__fmt.html#gae2a28b33476acd05869aebfd99b140fd">trap_ctx_vset_data_fmt</a></div><div class="ttdeci">void trap_ctx_vset_data_fmt(trap_ctx_t *ctx, uint32_t out_ifc_idx, uint8_t data_type, va_list ap)</div></div>
<div class="ttc" id="group__simpleapi_html_ga2694fb89b2da11d529ef69c21f2197ef"><div class="ttname"><a href="group__simpleapi.html#ga2694fb89b2da11d529ef69c21f2197ef">trap_finalize</a></div><div class="ttdeci">int trap_finalize()</div></div>
<div class="ttc" id="group__simpleapi_html_ga63de9d9334839f0fe2871ab5a987be32"><div class="ttname"><a href="group__simpleapi.html#ga63de9d9334839f0fe2871ab5a987be32">trap_ifcctl</a></div><div class="ttdeci">int trap_ifcctl(int8_t type, uint32_t ifcidx, int32_t request,...)</div><div class="ttdoc">Control TRAP interface. </div></div>
<div class="ttc" id="group__contextapi_html_ga94141c10e9f43926c03fe1404650b768"><div class="ttname"><a href="group__contextapi.html#ga94141c10e9f43926c03fe1404650b768">trap_ctx_send_flush</a></div><div class="ttdeci">void trap_ctx_send_flush(trap_ctx_t *ctx, uint32_t ifc)</div><div class="ttdoc">Force flush of buffer. </div></div>
<div class="ttc" id="group__contextapi_html_ga25b49cda5c1b29a15000690789826743"><div class="ttname"><a href="group__contextapi.html#ga25b49cda5c1b29a15000690789826743">trap_ctx_get_last_error_msg</a></div><div class="ttdeci">const char * trap_ctx_get_last_error_msg(trap_ctx_t *ctx)</div><div class="ttdoc">Get last (error) message from libtrap context. </div></div>
<div class="ttc" id="group__simpleapi_html_ga52ebce274203e2f54abc1ef487090618"><div class="ttname"><a href="group__simpleapi.html#ga52ebce274203e2f54abc1ef487090618">trap_send_flush</a></div><div class="ttdeci">void trap_send_flush(uint32_t ifc)</div><div class="ttdoc">Force flush of buffer. </div></div>
<div class="ttc" id="structtrap__ifc__spec__s_html"><div class="ttname"><a href="structtrap__ifc__spec__s.html">trap_ifc_spec_s</a></div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00224">trap.h:224</a></div></div>
<div class="ttc" id="group__ifctypes_html_ggac188fb5e77d8af514d8091c21a9570c8a95482ca4ea5f849965438493b6c5640c"><div class="ttname"><a href="group__ifctypes.html#ggac188fb5e77d8af514d8091c21a9570c8a95482ca4ea5f849965438493b6c5640c">TRAPIFC_INPUT</a></div><div class="ttdoc">interface acts as source of data for module </div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00186">trap.h:186</a></div></div>
<div class="ttc" id="group__contextapi_html_ga5ef43a88e58beb25cfbceed7643e5fba"><div class="ttname"><a href="group__contextapi.html#ga5ef43a88e58beb25cfbceed7643e5fba">trap_ctx_ifcctl</a></div><div class="ttdeci">int trap_ctx_ifcctl(trap_ctx_t *ctx, int8_t type, uint32_t ifcidx, int32_t request,...)</div><div class="ttdoc">Control TRAP interface. </div></div>
<div class="ttc" id="group__contextapi_html_ga5b84d682c3c68fe814896f7f002b319b"><div class="ttname"><a href="group__contextapi.html#ga5b84d682c3c68fe814896f7f002b319b">trap_ctx_finalize</a></div><div class="ttdeci">int trap_ctx_finalize(trap_ctx_t **ctx)</div><div class="ttdoc">Terminate libtrap context and free resources. </div></div>
<div class="ttc" id="group__contextapi_html_ga000e7c5b259aad735f066f2e5e8529bb"><div class="ttname"><a href="group__contextapi.html#ga000e7c5b259aad735f066f2e5e8529bb">trap_ctx_recv</a></div><div class="ttdeci">int trap_ctx_recv(trap_ctx_t *ctx, uint32_t ifc, const void **data, uint16_t *size)</div></div>
<div class="ttc" id="group__commonapi_html_gac99821743a91f2288f5ea8d3ae6b424c"><div class="ttname"><a href="group__commonapi.html#gac99821743a91f2288f5ea8d3ae6b424c">trap_ifcctl_request</a></div><div class="ttdeci">trap_ifcctl_request</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00200">trap.h:200</a></div></div>
<div class="ttc" id="group__trap__mess__fmt_html_gafa497348ff404d5a26d349b63a8888d5"><div class="ttname"><a href="group__trap__mess__fmt.html#gafa497348ff404d5a26d349b63a8888d5">trap_ctx_vset_required_fmt</a></div><div class="ttdeci">int trap_ctx_vset_required_fmt(trap_ctx_t *ctx, uint32_t in_ifc_idx, uint8_t data_type, va_list ap)</div></div>
<div class="ttc" id="trap_8h_html_abbc0ad5925fb7cc3573f046cca6a186e"><div class="ttname"><a href="trap_8h.html#abbc0ad5925fb7cc3573f046cca6a186e">output_ifc_negotiation</a></div><div class="ttdeci">int output_ifc_negotiation(void *ifc_priv_data, char ifc_type, int sock_d)</div></div>
<div class="ttc" id="group__contextapi_html_ga2902ffa62edfbfae946d232ff446b1f4"><div class="ttname"><a href="group__contextapi.html#ga2902ffa62edfbfae946d232ff446b1f4">trap_ctx_get_last_error</a></div><div class="ttdeci">int trap_ctx_get_last_error(trap_ctx_t *ctx)</div><div class="ttdoc">Get last result code from libtrap context. </div></div>
<div class="ttc" id="structtrap__multi__result_html_a067c01951ed1c711a65795f695b0b41e"><div class="ttname"><a href="structtrap__multi__result.html#a067c01951ed1c711a65795f695b0b41e">trap_multi_result::message_size</a></div><div class="ttdeci">uint16_t message_size</div><div class="ttdoc">Size of incoming message. </div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00215">trap.h:215</a></div></div>
<div class="ttc" id="group__trap__mess__fmt_html_gacba5dba90afc66aa5fa36b505c49226f"><div class="ttname"><a href="group__trap__mess__fmt.html#gacba5dba90afc66aa5fa36b505c49226f">trap_ctx_get_data_fmt</a></div><div class="ttdeci">int trap_ctx_get_data_fmt(trap_ctx_t *ctx, uint8_t ifc_dir, uint32_t ifc_idx, uint8_t *data_type, const char **spec)</div></div>
<div class="ttc" id="group__simpleapi_html_gaf7d9a764eeb924fe2dedaed0b79b2cec"><div class="ttname"><a href="group__simpleapi.html#gaf7d9a764eeb924fe2dedaed0b79b2cec">trap_get_verbose_level</a></div><div class="ttdeci">int trap_get_verbose_level()</div></div>
<div class="ttc" id="group__commonapi_html_ga6daff788a878255094f06d0dec956a7c"><div class="ttname"><a href="group__commonapi.html#ga6daff788a878255094f06d0dec956a7c">trap_git_version</a></div><div class="ttdeci">const char trap_git_version[]</div></div>
<div class="ttc" id="group__simpleapi_html_ga896b102140653a204da81782981e04f6"><div class="ttname"><a href="group__simpleapi.html#ga896b102140653a204da81782981e04f6">trap_set_verbose_level</a></div><div class="ttdeci">void trap_set_verbose_level(int level)</div></div>
<div class="ttc" id="trap_8h_html_a2c722200cdfbd15e5ab203e88e44bc33"><div class="ttname"><a href="trap_8h.html#a2c722200cdfbd15e5ab203e88e44bc33">input_ifc_negotiation</a></div><div class="ttdeci">int input_ifc_negotiation(void *ifc_priv_data, char ifc_type)</div></div>
<div class="ttc" id="structtrap__multi__result_html_a6befb83ebd5cf113aedf4cf0eefb06ee"><div class="ttname"><a href="structtrap__multi__result.html#a6befb83ebd5cf113aedf4cf0eefb06ee">trap_multi_result::message</a></div><div class="ttdeci">void * message</div><div class="ttdoc">Data of incoming message. </div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00216">trap.h:216</a></div></div>
<div class="ttc" id="group__commonapi_html_gaefbccf1d04407e6d79ab4b8a8307cdf9"><div class="ttname"><a href="group__commonapi.html#gaefbccf1d04407e6d79ab4b8a8307cdf9">trap_parse_params</a></div><div class="ttdeci">int trap_parse_params(int *argc, char **argv, trap_ifc_spec_t *ifc_spec)</div></div>
<div class="ttc" id="group__simpleapi_html_ga957443419c0e9961b8efba34f8e79009"><div class="ttname"><a href="group__simpleapi.html#ga957443419c0e9961b8efba34f8e79009">trap_free_ifc_spec</a></div><div class="ttdeci">int trap_free_ifc_spec(trap_ifc_spec_t ifc_spec)</div></div>
<div class="ttc" id="group__commonapi_html_ggac99821743a91f2288f5ea8d3ae6b424ca0698228277af04dfe4c5565de8263538"><div class="ttname"><a href="group__commonapi.html#ggac99821743a91f2288f5ea8d3ae6b424ca0698228277af04dfe4c5565de8263538">TRAPCTL_BUFFERSWITCH</a></div><div class="ttdoc">Enable/disable buffering - could be dangerous on input interface!!! expects char argument with value ...</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00202">trap.h:202</a></div></div>
<div class="ttc" id="group__simpleapi_html_gab889fdf90a8a4103bfa072c64d2aed1e"><div class="ttname"><a href="group__simpleapi.html#gab889fdf90a8a4103bfa072c64d2aed1e">trap_send_data</a></div><div class="ttdeci">int trap_send_data(unsigned int ifcidx, const void *data, uint16_t size, int timeout)</div></div>
<div class="ttc" id="trap__module__info_8h_html"><div class="ttname"><a href="trap__module__info_8h.html">trap_module_info.h</a></div><div class="ttdoc">Structures containing information about Nemea modules and macros for initialization and release of th...</div></div>
<div class="ttc" id="group__trap__mess__fmt_html_ggad79809a2452f1e8a4db4e635fb0bd89ea29dfd7b9fb30ace5fcdc6a719d320de2"><div class="ttname"><a href="group__trap__mess__fmt.html#ggad79809a2452f1e8a4db4e635fb0bd89ea29dfd7b9fb30ace5fcdc6a719d320de2">FMT_MISMATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00261">trap.h:261</a></div></div>
<div class="ttc" id="group__contextapi_html_ga8fb998ec081c6f0ad96a669d95efcfe7"><div class="ttname"><a href="group__contextapi.html#ga8fb998ec081c6f0ad96a669d95efcfe7">trap_ctx_terminate</a></div><div class="ttdeci">int trap_ctx_terminate(trap_ctx_t *ctx)</div><div class="ttdoc">Terminate libtrap context. </div></div>
<div class="ttc" id="group__trap__mess__fmt_html_gaafa4932ad483eceed010a6b84972df02"><div class="ttname"><a href="group__trap__mess__fmt.html#gaafa4932ad483eceed010a6b84972df02">trap_set_data_fmt</a></div><div class="ttdeci">void trap_set_data_fmt(uint32_t out_ifc_idx, uint8_t data_type,...)</div></div>
<div class="ttc" id="group__contextapi_html_gab70b72994501aae7d9eb16a3547de88c"><div class="ttname"><a href="group__contextapi.html#gab70b72994501aae7d9eb16a3547de88c">trap_ctx_init3</a></div><div class="ttdeci">trap_ctx_t * trap_ctx_init3(const char *name, const char *description, int8_t i_ifcs, int8_t o_ifcs, const char *ifc_spec, const char *service_ifcname)</div><div class="ttdoc">Initialize and return the context of libtrap. </div></div>
<div class="ttc" id="group__simpleapi_html_ga4fc7c94bc72b9400ea765187882d532e"><div class="ttname"><a href="group__simpleapi.html#ga4fc7c94bc72b9400ea765187882d532e">trap_terminate</a></div><div class="ttdeci">int trap_terminate()</div></div>
<div class="ttc" id="group__simpleapi_html_gac8149d036a3b839adaeb876ccc9fcda5"><div class="ttname"><a href="group__simpleapi.html#gac8149d036a3b839adaeb876ccc9fcda5">trap_recv</a></div><div class="ttdeci">int trap_recv(uint32_t ifcidx, const void **data, uint16_t *size)</div><div class="ttdoc">Receive data from input interface. </div></div>
<div class="ttc" id="group__trap__mess__fmt_html_ga36d50e3cf2e6fdb959e7e5af660947f1"><div class="ttname"><a href="group__trap__mess__fmt.html#ga36d50e3cf2e6fdb959e7e5af660947f1">trap_set_required_fmt</a></div><div class="ttdeci">int trap_set_required_fmt(uint32_t in_ifc_idx, uint8_t data_type,...)</div></div>
<div class="ttc" id="group__trap__mess__fmt_html_ggad79809a2452f1e8a4db4e635fb0bd89ea83c14af470a24348e2e667016c6c5d41"><div class="ttname"><a href="group__trap__mess__fmt.html#ggad79809a2452f1e8a4db4e635fb0bd89ea83c14af470a24348e2e667016c6c5d41">FMT_WAITING</a></div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00255">trap.h:255</a></div></div>
<div class="ttc" id="group__trap__mess__fmt_html_gafbdd4209c0e285278d2134a0500164ad"><div class="ttname"><a href="group__trap__mess__fmt.html#gafbdd4209c0e285278d2134a0500164ad">trap_data_format_t</a></div><div class="ttdeci">trap_data_format_t</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00236">trap.h:236</a></div></div>
<div class="ttc" id="group__contextapi_html_gae0d72b263e714adcf85b5b15dad98dad"><div class="ttname"><a href="group__contextapi.html#gae0d72b263e714adcf85b5b15dad98dad">trap_ctx_get_verbose_level</a></div><div class="ttdeci">int trap_ctx_get_verbose_level(trap_ctx_t *ctx)</div><div class="ttdoc">Get verbosity level. </div></div>
<div class="ttc" id="structtrap__ifc__spec__s_html_a67f46fe3c5ea43d1c8894ce9b8f551ab"><div class="ttname"><a href="structtrap__ifc__spec__s.html#a67f46fe3c5ea43d1c8894ce9b8f551ab">trap_ifc_spec_s::params</a></div><div class="ttdeci">char ** params</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00226">trap.h:226</a></div></div>
<div class="ttc" id="group__trap__mess__fmt_html_ggad79809a2452f1e8a4db4e635fb0bd89ea28ac36336d4d5862d01074677e45ce13"><div class="ttname"><a href="group__trap__mess__fmt.html#ggad79809a2452f1e8a4db4e635fb0bd89ea28ac36336d4d5862d01074677e45ce13">FMT_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00258">trap.h:258</a></div></div>
<div class="ttc" id="group__trap__mess__fmt_html_ggad79809a2452f1e8a4db4e635fb0bd89ea4f7787cd8d6cd8173c1a7a9449b39a5d"><div class="ttname"><a href="group__trap__mess__fmt.html#ggad79809a2452f1e8a4db4e635fb0bd89ea4f7787cd8d6cd8173c1a7a9449b39a5d">FMT_CHANGED</a></div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00264">trap.h:264</a></div></div>
<div class="ttc" id="group__simpleapi_html_gaaec5413b3ef25596138f12ae65e58097"><div class="ttname"><a href="group__simpleapi.html#gaaec5413b3ef25596138f12ae65e58097">trap_print_help</a></div><div class="ttdeci">void trap_print_help(const trap_module_info_t *module_info)</div></div>
<div class="ttc" id="jansson_8h_html"><div class="ttname"><a href="jansson_8h.html">jansson.h</a></div></div>
<div class="ttc" id="structtrap__ifc__spec__s_html_a6af4e85e62b9408f48e264516c5a4eae"><div class="ttname"><a href="structtrap__ifc__spec__s.html#a6af4e85e62b9408f48e264516c5a4eae">trap_ifc_spec_s::types</a></div><div class="ttdeci">char * types</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00225">trap.h:225</a></div></div>
<div class="ttc" id="structtrap__multi__result_html_a2c6630a824f0d7ef11e3921882867029"><div class="ttname"><a href="structtrap__multi__result.html#a2c6630a824f0d7ef11e3921882867029">trap_multi_result::result_code</a></div><div class="ttdeci">int result_code</div><div class="ttdoc">TRAP_OK if record is valid (message was received successfuly) </div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00217">trap.h:217</a></div></div>
<div class="ttc" id="group__commonapi_html_gab4ba2c95a8817983f23a58aae093f48f"><div class="ttname"><a href="group__commonapi.html#gab4ba2c95a8817983f23a58aae093f48f">trap_check_buffer_content</a></div><div class="ttdeci">int trap_check_buffer_content(void *buffer, uint32_t buffer_size)</div><div class="ttdoc">Check content of buffer, iterate over message headers. </div></div>
<div class="ttc" id="group__trap__mess__fmt_html_gae876dcd1ae5562bc85c7a10d93909e76"><div class="ttname"><a href="group__trap__mess__fmt.html#gae876dcd1ae5562bc85c7a10d93909e76">trap_ctx_set_data_fmt</a></div><div class="ttdeci">void trap_ctx_set_data_fmt(trap_ctx_t *ctx, uint32_t out_ifc_idx, uint8_t data_type,...)</div></div>
<div class="ttc" id="group__simpleapi_html_gaac8324ccfb8edf2977e3d4782870d4ef"><div class="ttname"><a href="group__simpleapi.html#gaac8324ccfb8edf2977e3d4782870d4ef">trap_get_data</a></div><div class="ttdeci">int trap_get_data(uint32_t ifc_mask, const void **data, uint16_t *size, int timeout)</div></div>
<div class="ttc" id="group__commonapi_html_ga8cb714bba0bf01ccf7584332936e2113"><div class="ttname"><a href="group__commonapi.html#ga8cb714bba0bf01ccf7584332936e2113">trap_get_type_and_name_from_string</a></div><div class="ttdeci">const char * trap_get_type_and_name_from_string(const char *source, const char **name, const char **type, int *length_name, int *length_type)</div></div>
<div class="ttc" id="group__trap__mess__fmt_html_gad79809a2452f1e8a4db4e635fb0bd89e"><div class="ttname"><a href="group__trap__mess__fmt.html#gad79809a2452f1e8a4db4e635fb0bd89e">trap_in_ifc_state_t</a></div><div class="ttdeci">trap_in_ifc_state_t</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00253">trap.h:253</a></div></div>
<div class="ttc" id="structtrap__multi__result_html"><div class="ttname"><a href="structtrap__multi__result.html">trap_multi_result</a></div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00214">trap.h:214</a></div></div>
<div class="ttc" id="group__simpleapi_html_ga594bc6f6e105611a06b5e1235796e758"><div class="ttname"><a href="group__simpleapi.html#ga594bc6f6e105611a06b5e1235796e758">trap_print_ifc_spec_help</a></div><div class="ttdeci">void trap_print_ifc_spec_help()</div></div>
<div class="ttc" id="group__ifctypes_html_ggac188fb5e77d8af514d8091c21a9570c8a3465118a68f82fd201ec4ce516f687aa"><div class="ttname"><a href="group__ifctypes.html#ggac188fb5e77d8af514d8091c21a9570c8a3465118a68f82fd201ec4ce516f687aa">TRAPIFC_OUTPUT</a></div><div class="ttdoc">interface is used for sending data out of module </div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00187">trap.h:187</a></div></div>
<div class="ttc" id="group__simpleapi_html_ga165b017fa4b66422275c4e502ac95d2a"><div class="ttname"><a href="group__simpleapi.html#ga165b017fa4b66422275c4e502ac95d2a">trap_send</a></div><div class="ttdeci">int trap_send(uint32_t ifcidx, const void *data, uint16_t size)</div><div class="ttdoc">Send data via output interface. </div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
