<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Libtrap: Internal development docs: TCPIP output IFC</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Libtrap: Internal development docs
   &#160;<span id="projectnumber">0.9.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">TCPIP output IFC<div class="ingroups"><a class="el" href="group__trap__ifc.html">TRAP communication module interface</a> &raquo; <a class="el" href="group__tcpip__ifc.html">TCP/IP and UNIX socket communication interface module</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for TCPIP output IFC:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__tcpip__sender.png" border="0" alt="" usemap="#group____tcpip____sender"/>
<map name="group____tcpip____sender" id="group____tcpip____sender">
<area shape="rect" id="node2" href="group__tcpip__ifc.html" title="TCP/IP and UNIX socket\l communication interface\l module" alt="" coords="5,5,176,61"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structclient__s.html">client_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtcpip__sender__private__s.html">tcpip_sender_private_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga08a59de89da2c9087ce88c7805ab4fd2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga08a59de89da2c9087ce88c7805ab4fd2">TCPIP_SENDER_STATE_STR</a>(st)</td></tr>
<tr class="separator:ga08a59de89da2c9087ce88c7805ab4fd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga1a44f61fa14280b8e825b346add230cf"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__tcpip__sender.html#gac9d2a14d5f36c214bfd88d8bcc67c259">tcpip_sender_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga1a44f61fa14280b8e825b346add230cf">tcpip_sender_result_t</a></td></tr>
<tr class="separator:ga1a44f61fa14280b8e825b346add230cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45657b399741b8bd08cbfcef2ad490f1"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structtcpip__sender__private__s.html">tcpip_sender_private_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a></td></tr>
<tr class="separator:ga45657b399741b8bd08cbfcef2ad490f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gac9d2a14d5f36c214bfd88d8bcc67c259"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#gac9d2a14d5f36c214bfd88d8bcc67c259">tcpip_sender_result</a> { <a class="el" href="group__tcpip__sender.html#ggac9d2a14d5f36c214bfd88d8bcc67c259ad8b4bc2563bd00e53ea036d7cff87ed6">EVERYBODY_PASSED</a>, 
<a class="el" href="group__tcpip__sender.html#ggac9d2a14d5f36c214bfd88d8bcc67c259ae55cf1716ad32d02c23e5bfe0d3e0bee">EVERYBODY_TIMEDOUT</a>, 
<a class="el" href="group__tcpip__sender.html#ggac9d2a14d5f36c214bfd88d8bcc67c259a25e04f87fe3a613f0f16d41e7d402e8f">SOMEBODY_TIMEDOUT</a>
 }</td></tr>
<tr class="separator:gac9d2a14d5f36c214bfd88d8bcc67c259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf04b911ad265af7e9f2871d48cb9ba76"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#gaf04b911ad265af7e9f2871d48cb9ba76">client_send_state</a> { <br />
&#160;&#160;<a class="el" href="group__tcpip__sender.html#ggaf04b911ad265af7e9f2871d48cb9ba76a427aaed3bd6153417cf63e63a7e59569">CURRENT_IDLE</a>, 
<a class="el" href="group__tcpip__sender.html#ggaf04b911ad265af7e9f2871d48cb9ba76a77371af98c1a1064923dc5d344962f6d">CURRENT_HEAD</a>, 
<a class="el" href="group__tcpip__sender.html#ggaf04b911ad265af7e9f2871d48cb9ba76a6565dd608c99558d63047e15c4382df8">CURRENT_PAYLOAD</a>, 
<a class="el" href="group__tcpip__sender.html#ggaf04b911ad265af7e9f2871d48cb9ba76a0ca445b9f24688896a9c9f3c8937f077">CURRENT_COMPLETE</a>, 
<br />
&#160;&#160;<a class="el" href="group__tcpip__sender.html#ggaf04b911ad265af7e9f2871d48cb9ba76a65673a8b72b76e8ff280b5d0730beaec">BACKUP_BUFFER</a>
<br />
 }</td></tr>
<tr class="separator:gaf04b911ad265af7e9f2871d48cb9ba76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaeea6e61d3ac18a0bc93c3ed4ca0835e0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#gaeea6e61d3ac18a0bc93c3ed4ca0835e0">server_disconnected_client</a> (<a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a> *c, int cl_id)</td></tr>
<tr class="separator:gaeea6e61d3ac18a0bc93c3ed4ca0835e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga625c5b454f5713b830835f99b02a4906"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga625c5b454f5713b830835f99b02a4906">send_all_data</a> (<a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a> *c, int sd, void **<a class="el" href="trap__internal_8h.html#ac3c027f9a365f5741871df5ace13943f">data</a>, uint32_t *size, char block)</td></tr>
<tr class="memdesc:ga625c5b454f5713b830835f99b02a4906"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to send data block at once.  <a href="#ga625c5b454f5713b830835f99b02a4906">More...</a><br /></td></tr>
<tr class="separator:ga625c5b454f5713b830835f99b02a4906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86bc8a32ffabaa87eaa11c09aaf295f2"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga86bc8a32ffabaa87eaa11c09aaf295f2">check_connected_clients</a> (<a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a> *config)</td></tr>
<tr class="separator:ga86bc8a32ffabaa87eaa11c09aaf295f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab1f3543821451224ebabbf5119821f29"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#gab1f3543821451224ebabbf5119821f29">tcpip_sender_conn_phase</a> (<a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a> *config, struct timespec *t)</td></tr>
<tr class="memdesc:gab1f3543821451224ebabbf5119821f29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if we have connected clients and wait for them.  <a href="#gab1f3543821451224ebabbf5119821f29">More...</a><br /></td></tr>
<tr class="separator:gab1f3543821451224ebabbf5119821f29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd668f1daf856a31e3fc665448dcef9c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#gacd668f1daf856a31e3fc665448dcef9c">tcpip_sender_send</a> (void *priv, const void *<a class="el" href="trap__internal_8h.html#ac3c027f9a365f5741871df5ace13943f">data</a>, uint32_t size, int timeout)</td></tr>
<tr class="memdesc:gacd668f1daf856a31e3fc665448dcef9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data to all connected clients.  <a href="#gacd668f1daf856a31e3fc665448dcef9c">More...</a><br /></td></tr>
<tr class="separator:gacd668f1daf856a31e3fc665448dcef9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b43746d012021fe6af3b6fde17d12c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga0b43746d012021fe6af3b6fde17d12c3">tcpip_sender_terminate</a> (void *priv)</td></tr>
<tr class="memdesc:ga0b43746d012021fe6af3b6fde17d12c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set interface state as terminated.  <a href="#ga0b43746d012021fe6af3b6fde17d12c3">More...</a><br /></td></tr>
<tr class="separator:ga0b43746d012021fe6af3b6fde17d12c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ad10441ac50af06112eee9db2047919"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga5ad10441ac50af06112eee9db2047919">tcpip_sender_destroy</a> (void *priv)</td></tr>
<tr class="memdesc:ga5ad10441ac50af06112eee9db2047919"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor of TCP sender (output ifc)  <a href="#ga5ad10441ac50af06112eee9db2047919">More...</a><br /></td></tr>
<tr class="separator:ga5ad10441ac50af06112eee9db2047919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d1beceb2af358ffb6116184e9f61026"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga3d1beceb2af358ffb6116184e9f61026">tcpip_sender_get_client_count</a> (void *priv)</td></tr>
<tr class="separator:ga3d1beceb2af358ffb6116184e9f61026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7cb4c51ce43d85a04c6406a17fc1fe0b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga7cb4c51ce43d85a04c6406a17fc1fe0b">tcpip_sender_create_dump</a> (void *priv, uint32_t idx, const char *path)</td></tr>
<tr class="separator:ga7cb4c51ce43d85a04c6406a17fc1fe0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b32b86681586a07367820893fff98d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga3b32b86681586a07367820893fff98d3">server_disconnect_all_clients</a> (void *priv)</td></tr>
<tr class="memdesc:ga3b32b86681586a07367820893fff98d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function disconnects all clients of the output interface whose private structure is passed via "priv" parameter.  <a href="#ga3b32b86681586a07367820893fff98d3">More...</a><br /></td></tr>
<tr class="separator:ga3b32b86681586a07367820893fff98d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90dbe211caa71064dd3c44b9eac5932a"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga90dbe211caa71064dd3c44b9eac5932a">tcpip_send_ifc_get_id</a> (void *priv)</td></tr>
<tr class="separator:ga90dbe211caa71064dd3c44b9eac5932a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19dfb1ff5fc8916e8c4bd1e0800bf9df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga19dfb1ff5fc8916e8c4bd1e0800bf9df">create_tcpip_sender_ifc</a> (<a class="el" href="group__debug.html#ga7c1820c9482b11ef772ed7ef95d4f7f0">trap_ctx_priv_t</a> *ctx, const char *params, <a class="el" href="group__trap__ifc.html#ga67931b1db8d9f47c96534b924252b370">trap_output_ifc_t</a> *ifc, uint32_t idx, enum <a class="el" href="ifc__tcpip_8h.html#a5893d62a74cf9d99455f8226678f68e6">tcpip_ifc_sockettype</a> type)</td></tr>
<tr class="memdesc:ga19dfb1ff5fc8916e8c4bd1e0800bf9df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor of output TCP/IP IFC module. This function is called by TRAP library to initialize one output interface.  <a href="#ga19dfb1ff5fc8916e8c4bd1e0800bf9df">More...</a><br /></td></tr>
<tr class="separator:ga19dfb1ff5fc8916e8c4bd1e0800bf9df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3a65816f2a41268758c569a7a368ff1"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#gad3a65816f2a41268758c569a7a368ff1">accept_clients_thread</a> (void *arg)</td></tr>
<tr class="memdesc:gad3a65816f2a41268758c569a7a368ff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for server thread - accepts incoming clients and disconnects them.  <a href="#gad3a65816f2a41268758c569a7a368ff1">More...</a><br /></td></tr>
<tr class="separator:gad3a65816f2a41268758c569a7a368ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8253ffec1871584621b3dc838055d87"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#gaf8253ffec1871584621b3dc838055d87">server_socket_open</a> (void *priv)</td></tr>
<tr class="memdesc:gaf8253ffec1871584621b3dc838055d87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open TCPIP socket for sender module.  <a href="#gaf8253ffec1871584621b3dc838055d87">More...</a><br /></td></tr>
<tr class="separator:gaf8253ffec1871584621b3dc838055d87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga08a59de89da2c9087ce88c7805ab4fd2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCPIP_SENDER_STATE_STR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">st</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(st == <a class="code" href="group__tcpip__sender.html#ggaf04b911ad265af7e9f2871d48cb9ba76a427aaed3bd6153417cf63e63a7e59569">CURRENT_IDLE</a> ? <span class="stringliteral">&quot;CURRENT_IDLE&quot;</span>: \</div><div class="line">(st == <a class="code" href="group__tcpip__sender.html#ggaf04b911ad265af7e9f2871d48cb9ba76a77371af98c1a1064923dc5d344962f6d">CURRENT_HEAD</a>     ? <span class="stringliteral">&quot;CURRENT_HEAD&quot;</span>: \</div><div class="line">(st == <a class="code" href="group__tcpip__sender.html#ggaf04b911ad265af7e9f2871d48cb9ba76a6565dd608c99558d63047e15c4382df8">CURRENT_PAYLOAD</a>  ? <span class="stringliteral">&quot;CURRENT_PAYLOAD&quot;</span>: \</div><div class="line">(st == <a class="code" href="group__tcpip__sender.html#ggaf04b911ad265af7e9f2871d48cb9ba76a0ca445b9f24688896a9c9f3c8937f077">CURRENT_COMPLETE</a> ? <span class="stringliteral">&quot;CURRENT_COMPLETE&quot;</span>: \</div><div class="line">(<span class="stringliteral">&quot;BACKUP_BUFFER&quot;</span>)))))</div><div class="ttc" id="group__tcpip__sender_html_ggaf04b911ad265af7e9f2871d48cb9ba76a427aaed3bd6153417cf63e63a7e59569"><div class="ttname"><a href="group__tcpip__sender.html#ggaf04b911ad265af7e9f2871d48cb9ba76a427aaed3bd6153417cf63e63a7e59569">CURRENT_IDLE</a></div><div class="ttdef"><b>Definition:</b> <a href="ifc__tcpip__internal_8h_source.html#l00069">ifc_tcpip_internal.h:69</a></div></div>
<div class="ttc" id="group__tcpip__sender_html_ggaf04b911ad265af7e9f2871d48cb9ba76a77371af98c1a1064923dc5d344962f6d"><div class="ttname"><a href="group__tcpip__sender.html#ggaf04b911ad265af7e9f2871d48cb9ba76a77371af98c1a1064923dc5d344962f6d">CURRENT_HEAD</a></div><div class="ttdef"><b>Definition:</b> <a href="ifc__tcpip__internal_8h_source.html#l00070">ifc_tcpip_internal.h:70</a></div></div>
<div class="ttc" id="group__tcpip__sender_html_ggaf04b911ad265af7e9f2871d48cb9ba76a0ca445b9f24688896a9c9f3c8937f077"><div class="ttname"><a href="group__tcpip__sender.html#ggaf04b911ad265af7e9f2871d48cb9ba76a0ca445b9f24688896a9c9f3c8937f077">CURRENT_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="ifc__tcpip__internal_8h_source.html#l00072">ifc_tcpip_internal.h:72</a></div></div>
<div class="ttc" id="group__tcpip__sender_html_ggaf04b911ad265af7e9f2871d48cb9ba76a6565dd608c99558d63047e15c4382df8"><div class="ttname"><a href="group__tcpip__sender.html#ggaf04b911ad265af7e9f2871d48cb9ba76a6565dd608c99558d63047e15c4382df8">CURRENT_PAYLOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="ifc__tcpip__internal_8h_source.html#l00071">ifc_tcpip_internal.h:71</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="ifc__tcpip__internal_8h_source.html#l00122">122</a> of file <a class="el" href="ifc__tcpip__internal_8h_source.html">ifc_tcpip_internal.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga45657b399741b8bd08cbfcef2ad490f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtcpip__sender__private__s.html">tcpip_sender_private_s</a>  <a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga1a44f61fa14280b8e825b346add230cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__tcpip__sender.html#gac9d2a14d5f36c214bfd88d8bcc67c259">tcpip_sender_result</a>  <a class="el" href="group__tcpip__sender.html#ga1a44f61fa14280b8e825b346add230cf">tcpip_sender_result_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gaf04b911ad265af7e9f2871d48cb9ba76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__tcpip__sender.html#gaf04b911ad265af7e9f2871d48cb9ba76">client_send_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggaf04b911ad265af7e9f2871d48cb9ba76a427aaed3bd6153417cf63e63a7e59569"></a>CURRENT_IDLE&#160;</td><td class="fielddoc">
<p>waiting for a message in current buffer </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf04b911ad265af7e9f2871d48cb9ba76a77371af98c1a1064923dc5d344962f6d"></a>CURRENT_HEAD&#160;</td><td class="fielddoc">
<p>timeout in header </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf04b911ad265af7e9f2871d48cb9ba76a6565dd608c99558d63047e15c4382df8"></a>CURRENT_PAYLOAD&#160;</td><td class="fielddoc">
<p>timeout in payload </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf04b911ad265af7e9f2871d48cb9ba76a0ca445b9f24688896a9c9f3c8937f077"></a>CURRENT_COMPLETE&#160;</td><td class="fielddoc">
<p>message sent </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf04b911ad265af7e9f2871d48cb9ba76a65673a8b72b76e8ff280b5d0730beaec"></a>BACKUP_BUFFER&#160;</td><td class="fielddoc">
<p>timeout in backup buffer </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="ifc__tcpip__internal_8h_source.html#l00068">68</a> of file <a class="el" href="ifc__tcpip__internal_8h_source.html">ifc_tcpip_internal.h</a>.</p>

</div>
</div>
<a class="anchor" id="gac9d2a14d5f36c214bfd88d8bcc67c259"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__tcpip__sender.html#gac9d2a14d5f36c214bfd88d8bcc67c259">tcpip_sender_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggac9d2a14d5f36c214bfd88d8bcc67c259ad8b4bc2563bd00e53ea036d7cff87ed6"></a>EVERYBODY_PASSED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggac9d2a14d5f36c214bfd88d8bcc67c259ae55cf1716ad32d02c23e5bfe0d3e0bee"></a>EVERYBODY_TIMEDOUT&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggac9d2a14d5f36c214bfd88d8bcc67c259a25e04f87fe3a613f0f16d41e7d402e8f"></a>SOMEBODY_TIMEDOUT&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01011">1011</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad3a65816f2a41268758c569a7a368ff1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* accept_clients_thread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for server thread - accepts incoming clients and disconnects them. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>tcpip_sender_private_t structure (private data) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL </dd></dl>
<p>Output interface negotiation </p>

<p>Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01658">1658</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga86bc8a32ffabaa87eaa11c09aaf295f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char check_connected_clients </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check if any client is connected. </p><dl class="section return"><dt>Returns</dt><dd>non-zero if there is a connected client </dd></dl>

<p>Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01000">1000</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga19dfb1ff5fc8916e8c4bd1e0800bf9df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_tcpip_sender_ifc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__debug.html#ga7c1820c9482b11ef772ed7ef95d4f7f0">trap_ctx_priv_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__trap__ifc.html#ga67931b1db8d9f47c96534b924252b370">trap_output_ifc_t</a> *&#160;</td>
          <td class="paramname"><em>ifc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ifc__tcpip_8h.html#a5893d62a74cf9d99455f8226678f68e6">tcpip_ifc_sockettype</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor of output TCP/IP IFC module. This function is called by TRAP library to initialize one output interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>Pointer to the private libtrap context data (<a class="el" href="group__contextapi.html#gad63272a184d3a4f5a386bf10629f4266" title="Initialize and return the context of libtrap. ">trap_ctx_init()</a>). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Configuration string containing space separated values of these parameters (in this exact order): <em>server_port</em> <em>max_clients</em>, where dest_addr is destination address of output TCP/IP IFC module and dest_port is the port where sender is listening. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ifc</td><td>IFC interface used for calling TCP/IP module. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idx</td><td>Index of IFC that is created. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>select the type of socket (see <a class="el" href="ifc__tcpip_8h.html#a5893d62a74cf9d99455f8226678f68e6">tcpip_ifc_sockettype</a> for options) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success (TRAP_E_OK) </dd></dl>

<p>Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01510">1510</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga625c5b454f5713b830835f99b02a4906"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int send_all_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to send data block at once. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>private data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sd</td><td>socket descriptor </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">data</td><td>pointer to beginning of data </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">size</td><td>size of data to send and the rest unsent size of data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>1 if blocking, 0 if non-blocking </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRAP_E_OK, TRAP_E_TIMEOUT, TRAP_E_TERMINATED, TRAP_E_IO_ERROR </dd></dl>

<p>Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l00940">940</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3b32b86681586a07367820893fff98d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void server_disconnect_all_clients </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function disconnects all clients of the output interface whose private structure is passed via "priv" parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>Pointer to output interface private structure. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01464">1464</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaeea6e61d3ac18a0bc93c3ed4ca0835e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void server_disconnected_client </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cl_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l00919">919</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaf8253ffec1871584621b3dc838055d87"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int server_socket_open </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open TCPIP socket for sender module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>tcpip_sender_private_t structure (private data) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success (TRAP_E_OK), TRAP_E_IO_ERROR on error </dd></dl>

<p>Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01758">1758</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga90dbe211caa71064dd3c44b9eac5932a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* tcpip_send_ifc_get_id </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01484">1484</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab1f3543821451224ebabbf5119821f29"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcpip_sender_conn_phase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if we have connected clients and wait for them. </p>
<p>The function is blocking or non-blocking. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>private data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>pointer to timeout for sem_timedwait(), NULL when blocking </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRAP_E_OK - we have clients, TRAP_E_TIMEOUT - we don't have clients, TRAP_E_TERMINATED - terminating </dd></dl>

<p>Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01025">1025</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7cb4c51ce43d85a04c6406a17fc1fe0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcpip_sender_create_dump </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01385">1385</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga5ad10441ac50af06112eee9db2047919"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tcpip_sender_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor of TCP sender (output ifc) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>pointer to module private data </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01314">1314</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3d1beceb2af358ffb6116184e9f61026"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t tcpip_sender_get_client_count </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01372">1372</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a class="anchor" id="gacd668f1daf856a31e3fc665448dcef9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcpip_sender_send </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send data to all connected clients. </p>
<p>All clients are in 'current' buffer or in 'backup' buffer. All clients get messages from current buffer at first.</p><ul>
<li>When all buffer is successfully sent to all clients in 'current' buffer, everything is alright.</li>
<li>When everybody fails due to timeout, everything is alright, everybody stays in 'current' buffer.</li>
<li>When somebody fails and somebody is successful, failing clients are moved into 'backup' buffer and they have chance to receive the rest of message later. We disconnect all clients that were in 'backup' buffer before moving new ones from 'current' buffer.</li>
<li>All successful clients from 'backup' buffer are moved back into 'current' buffer.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>pointer to module private data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>pointer to data to send </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of data to send </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>timeout in microseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success (TRAP_E_OK), TRAP_E_BAD_FPARAMS if sender was not properly initialized, TRAP_E_TERMINATED if interface was terminated. </dd></dl>

<p>Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01075">1075</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga0b43746d012021fe6af3b6fde17d12c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tcpip_sender_terminate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set interface state as terminated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>pointer to module private data </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01296">1296</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
